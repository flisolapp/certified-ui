<ng-container *ngIf="(!searched) && (!searching) && (items === null)">
  <div class="surface-section text-center px-4 py-8 md:px-6 lg:px-8">
    <img src="assets/images/logo.svg" alt="Image" height="100" class="mb-6">
    <div class="text-2xl text-900 font-bold mb-3">Certificate verifier</div>
    <p class="text-600 line-height-3 mb-6">Verify easily the validity of a certificate emitted by FLISol. Centered.
      Fast.</p>
    <div class="flex align-items-center justify-content-center">
      <input pInputText placeholder="Enter your email or code" class="p-3 border-noround border-round-left"
             style="min-width: 250px" [(ngModel)]="term" autofocus>
      <button pButton pRipple icon="fa-solid fa-magnifying-glass" class="border-noround border-round-right p-3 w-auto"
              (click)="doSearch()"></button>
    </div>
  </div>
</ng-container>

<ng-container *ngIf="searching || downloading">
  <div class="surface-section text-center px-4 py-8 md:px-6 lg:px-8">
    <img src="assets/images/logo.svg" alt="Image" height="100" class="mb-6">
    <div class="text-2xl text-900 font-bold mb-6">Certificate verifier</div>
    <p-progressSpinner styleClass="w-4rem h-4rem" strokeWidth="8" fill="var(--surface-ground)"
                       animationDuration=".5s"></p-progressSpinner>
  </div>
</ng-container>

<ng-container *ngIf="(searched) && (!searching) && (items !== null) && (items.length === 0)">
  <div class="surface-section text-center px-4 py-8 md:px-6 lg:px-8">
    <img src="assets/images/logo.svg" alt="Image" height="100" class="mb-6">
    <div class="text-2xl text-900 font-bold mb-3">Certificate verifier</div>
    <p class="text-600 line-height-3 mb-6 not-found">No results found. Please, try again.</p>
    <div class="flex align-items-center justify-content-center">
      <input pInputText placeholder="Enter your email or code" class="p-3 border-noround border-round-left"
             style="min-width: 250px" [(ngModel)]="term" autofocus>
      <button pButton pRipple icon="fa-solid fa-magnifying-glass" class="border-noround border-round-right p-3 w-auto"
              (click)="doSearch()"></button>
    </div>
  </div>
</ng-container>

<ng-container *ngIf="(searched) && (!searching) && (items !== null) && (items.length > 0) && (!downloading)">
  <div class="surface-section text-center">
    <img src="assets/images/logo.svg" alt="Image" height="100">
    <div class="text-2xl text-900 font-bold mb-3">Certificate verifier</div>

    <p class="text-600 line-height-3 mb-6" *ngIf="items.length === 1">Certificate found. <a (click)="doClear()">Try
      another search.</a></p>
    <p class="text-600 line-height-3 mb-6" *ngIf="items.length > 1">Certificates found. <a (click)="doClear()">Try
      another search.</a></p>

    <!-- Desktop -->
    <div class="grid hidden md:block shadow-1 border-round surface-card mb-3 m-2 h-full">
      <p-table [value]="items" [tableStyle]="{ 'min-width': '50rem' }">
        <ng-template pTemplate="header">
          <tr>
            <th>Edition</th>
            <th>Unity</th>
            <th>Name</th>
            <th>Enjoyed as</th>
            <th>Download</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-item>
          <tr>
            <td>{{ item.edition }}</td>
            <td>{{ item.unit }}</td>
            <td>{{ item.name }}</td>
            <td>{{ item.enjoyedAs }}</td>
            <td>
              <p-button icon="fa-solid fa-download" styleClass="p-button-rounded p-button-text"
                        (click)="doDownload(item)"></p-button>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>

    <!-- Mobile -->
    <div class="block sm:hidden">
      <ng-container *ngFor="let item of items">
        <div class="shadow-1 border-round surface-card mb-3 m-2 h-full flex-column justify-content-between flex">
          <div class="p-4 h-full text-left">
            <div class="flex justify-content-between">
              <div>
                <span class="text-900 font-medium text-2xl">{{ item.edition }}</span>
              </div>
              <div>
                <span class="text-black-alpha-50 text-sm">{{ item.enjoyedAs }}</span>
              </div>
            </div>
            <div class="text-black mt-2">{{ item.unit }}</div>
            <div class="text-black mt-2">{{ item.name }}</div>
            <div class="mt-4">
              <div class="flex flex-column md:flex-row card-container justify-content-center">
                <div class="flex align-items-center justify-content-center m-2">
                  <button pButton type="button" label="Download" icon="fa-solid fa-download" class="w-full p-button"
                          (click)="doDownload(item)"></button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </ng-container>
    </div>
  </div>
</ng-container>
